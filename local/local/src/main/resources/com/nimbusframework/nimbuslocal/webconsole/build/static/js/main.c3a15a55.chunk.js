(window.webpackJsonp=window.webpackJsonp||[]).push([[0],Array(37).concat([function(e,t,a){e.exports=a.p+"static/media/baseline-cloud_upload-24px.3f7e59cc.svg"},function(e,t,a){e.exports=a.p+"static/media/baseline-check_circle_outline-24px.e0d99bb4.svg"},,function(e,t,a){e.exports=a(92)},,,,,function(e,t,a){},,,,,,,,,,,,,,,,,,,,,,function(e,t,a){},function(e,t,a){},function(e,t,a){},,function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){"use strict";a.r(t);var n=a(0),s=a.n(n),l=a(33),c=a.n(l),i=(a(45),a(9)),o=a(14),r=a(1),m=a(2),u=a(4),d=a(3),h=a(5),p=a(6),b=a.n(p),f=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(u.a)(this,Object(d.a)(t).call(this,e))).state={fileBuckets:[]},a}return Object(h.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){var e=this;b.a.get("http://localhost:8080/NimbusWebConsole/FileBucketAPI?operation=listBuckets").then(function(t){var a={":hover":{backgroundColor:"#efedeb"}},n=t.data.map(function(t){return s.a.createElement(i.b,{to:"".concat(e.props.match.url,"/").concat(t.bucketName),key:t.bucketName,className:"row-link"},s.a.createElement("div",{className:"row hover-row",style:a},s.a.createElement("div",{className:"column cell"},t.bucketName),s.a.createElement("div",{className:"column cell"},t.numberOfFiles),s.a.createElement("div",{className:"column cell"},t.staticWebsite.toString())))});e.setState({fileBuckets:n})}).catch(function(e){console.log(e)})}},{key:"render",value:function(){return s.a.createElement("div",{className:"list-container"},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"column table-header"},"Bucket Name"),s.a.createElement("div",{className:"column table-header"},"Number of Files"),s.a.createElement("div",{className:"column table-header"},"Static Website")),this.state.fileBuckets)}}]),t}(s.a.Component);a(67);var v=function(e){var t=e.match;return s.a.createElement("div",{className:"content"},s.a.createElement("h2",null,"File Buckets"),s.a.createElement(f,{match:t}))},N=a(15),E=(a(68),a(69),function(e){function t(e){var a;Object(r.a)(this,t),a=Object(u.a)(this,Object(d.a)(t).call(this,e));var n=e.files.map(function(e){var t=new Date(e.lastModified);a.props.addFile(e.path);var n=/[^\/]*$/.exec(e.path)[0];return s.a.createElement("div",{className:"row",key:e.path},s.a.createElement("div",{className:"small-column cell"},s.a.createElement("input",{type:"checkbox",name:e.path,onChange:a.props.handleSelectedFileChange})),s.a.createElement("div",{className:"column cell"},s.a.createElement("a",{href:"http://localhost:8080/NimbusWebConsole/FileBucketAPI?bucketName="+a.props.bucketName+"&operation=getFile&destinationPath="+e.path,download:n},e.path)),s.a.createElement("div",{className:"column cell"},e.size," KB"),s.a.createElement("div",{className:"column cell"},t.toLocaleTimeString()," ",t.toLocaleDateString()))});return a.state={files:n},a}return Object(h.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){return s.a.createElement("div",null,s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"small-column table-header"}),s.a.createElement("div",{className:"column table-header"},"File Path"),s.a.createElement("div",{className:"column table-header"},"Size"),s.a.createElement("div",{className:"column table-header"},"Last Modified")),this.state.files)}}]),t}(s.a.Component)),y=a(39),k=a(21),g=a.n(k),O=a(36),C=a(7),j=(a(71),a(37)),S=a.n(j),w=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(u.a)(this,Object(d.a)(t).call(this,e))).state={hightlight:!1},a.fileInputRef=s.a.createRef(),a.openFileDialog=a.openFileDialog.bind(Object(C.a)(a)),a.onFilesAdded=a.onFilesAdded.bind(Object(C.a)(a)),a.onDragOver=a.onDragOver.bind(Object(C.a)(a)),a.onDragLeave=a.onDragLeave.bind(Object(C.a)(a)),a.onDrop=a.onDrop.bind(Object(C.a)(a)),a}return Object(h.a)(t,e),Object(m.a)(t,[{key:"openFileDialog",value:function(){this.props.disabled||this.fileInputRef.current.click()}},{key:"onFilesAdded",value:function(e){if(!this.props.disabled){var t=e.target.files;if(this.props.onFilesAdded){var a=this.fileListToArray(t);this.props.onFilesAdded(a)}}}},{key:"onDragOver",value:function(e){e.preventDefault(),this.props.disabed||this.setState({hightlight:!0})}},{key:"onDragLeave",value:function(e){this.setState({hightlight:!1})}},{key:"onDrop",value:function(e){if(e.preventDefault(),!this.props.disabed){var t=e.dataTransfer.files;if(this.props.onFilesAdded){var a=this.fileListToArray(t);this.props.onFilesAdded(a)}this.setState({hightlight:!1})}}},{key:"fileListToArray",value:function(e){for(var t=[],a=0;a<e.length;a++)t.push(e.item(a));return t}},{key:"render",value:function(){return s.a.createElement("div",{className:"Dropzone ".concat(this.state.hightlight?"Highlight":""),onDragOver:this.onDragOver,onDragLeave:this.onDragLeave,onDrop:this.onDrop,onClick:this.openFileDialog,style:{cursor:this.props.disabled?"default":"pointer"}},s.a.createElement("input",{ref:this.fileInputRef,className:"FileInput",type:"file",multiple:!0,onChange:this.onFilesAdded}),s.a.createElement("img",{alt:"upload",className:"Icon",src:S.a}),s.a.createElement("span",null,"Upload Files"))}}]),t}(n.Component),I=(a(72),a(38)),F=a.n(I),D=(a(73),function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(u.a)(this,Object(d.a)(t).call(this,e))).state={},a}return Object(h.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){return s.a.createElement("div",{className:"ProgressBar"},s.a.createElement("div",{className:"Progress",style:{width:this.props.progress+"%"}}))}}]),t}(n.Component)),M=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(u.a)(this,Object(d.a)(t).call(this,e))).state={files:[],uploading:!1,uploadProgress:{},successfulUploaded:!1},a.onFilesAdded=a.onFilesAdded.bind(Object(C.a)(a)),a.uploadFiles=a.uploadFiles.bind(Object(C.a)(a)),a.sendRequest=a.sendRequest.bind(Object(C.a)(a)),a.renderActions=a.renderActions.bind(Object(C.a)(a)),a}return Object(h.a)(t,e),Object(m.a)(t,[{key:"onFilesAdded",value:function(e){this.setState(function(t){return{files:t.files.concat(e)}})}},{key:"uploadFiles",value:function(){var e=Object(O.a)(g.a.mark(function e(){var t,a=this;return g.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this.setState({uploadProgress:{},uploading:!0}),t=[],this.state.files.forEach(function(e){t.push(a.sendRequest(e))}),e.prev=3,e.next=6,Promise.all(t);case 6:this.setState({successfulUploaded:!0,uploading:!1}),this.props.notifyUpdate(),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(3),this.setState({successfulUploaded:!0,uploading:!1});case 13:case"end":return e.stop()}},e,this,[[3,10]])}));return function(){return e.apply(this,arguments)}}()},{key:"sendRequest",value:function(e){var t=this,a=new FormData;return a.append("file",e,e.name),b.a.post("http://localhost:8080/NimbusWebConsole/FileBucketAPI?bucketName="+this.props.bucketName+"&operation=saveFile&destinationPath="+e.name,a,{headers:{"Content-Type":"multipart/form-data"},onUploadProgress:function(a){var n=Object(y.a)({},t.state.uploadProgress);n[e.name]={state:"pending",percentage:Math.round(100*a.loaded/a.total)},t.setState({uploadProgress:n})}})}},{key:"renderProgress",value:function(e){if(this.state.uploading||this.state.successfulUploaded){var t=this.state.uploadProgress[e.name]?this.state.uploadProgress[e.name].percentage:0;return s.a.createElement("div",{className:"ProgressWrapper"},s.a.createElement(D,{progress:t,key:t}),s.a.createElement("img",{className:"CheckIcon",alt:"done",src:F.a,style:{opacity:this.state.uploadProgress[e.name]&&"done"===this.state.uploadProgress[e.name].state?1:0}}))}}},{key:"renderActions",value:function(){var e=this;return this.state.successfulUploaded?s.a.createElement("div",null,s.a.createElement("button",{onClick:function(){return e.setState({files:[],successfulUploaded:!1})}},"Clear"),s.a.createElement("button",{onClick:this.props.closeButton},"Cancel")):s.a.createElement("div",null,s.a.createElement("button",{disabled:this.state.files.length<=0||this.state.uploading,onClick:this.uploadFiles},"Upload"),s.a.createElement("button",{onClick:this.props.closeButton},"Cancel"))}},{key:"render",value:function(){var e=this,t=this.props.show?"modal display-block":"modal display-none";return s.a.createElement("div",{className:t},s.a.createElement("section",{className:"modal-main"},s.a.createElement("div",{className:"Upload"},s.a.createElement("span",{className:"Title"},"Upload Files"),s.a.createElement("div",{className:"Content"},s.a.createElement("div",null,s.a.createElement(w,{onFilesAdded:this.onFilesAdded,disabled:this.state.uploading||this.state.successfulUploaded})),s.a.createElement("div",{className:"Files"},this.state.files.map(function(t){return s.a.createElement("div",{key:t.name,className:"Row"},s.a.createElement("span",{className:"Filename"},t.name),e.renderProgress(t))}))),s.a.createElement("div",{className:"Actions"},this.renderActions()))))}}]),t}(n.Component),A=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(u.a)(this,Object(d.a)(t).call(this,e))).handleSelectedFileChange=function(e){var t=e.target.name;a.setState(function(e){return{selectedFiles:e.selectedFiles.map(function(e){return e.path===t?{path:t,selected:!e.selected}:e})}})},a.addFile=function(e){a.setState(function(t){return{selectedFiles:[].concat(Object(N.a)(t.selectedFiles),[{path:e,selected:!1}])}})},a.notifyUpdate=function(){a.getFiles()},a.showModal=function(){a.setState({show:!0})},a.hideModal=function(){a.setState({show:!1})},a.delete=function(){return a.state.selectedFiles.map(function(e){return e.selected&&b.a.post("http://localhost:8080/NimbusWebConsole/FileBucketAPI?bucketName="+a.props.match.params.bucketName+"&operation=deleteFile&destinationPath="+e.path,{}).then(function(t){return console.log(t),200===t.status&&a.setState({files:a.state.files.filter(function(t){return t.path!==e.path})}),null}),null}),null},a.state={selectedFiles:[],files:[],show:!1},a}return Object(h.a)(t,e),Object(m.a)(t,[{key:"getFiles",value:function(){var e=this;b.a.get("http://localhost:8080/NimbusWebConsole/FileBucketAPI?bucketName="+this.props.match.params.bucketName+"&operation=listFiles").then(function(t){e.setState({files:t.data})}).catch(function(e){console.log(e)})}},{key:"componentDidMount",value:function(){this.getFiles()}},{key:"render",value:function(){return s.a.createElement("div",{className:"main-body"},s.a.createElement("h2",null,this.props.match.params.bucketName),s.a.createElement("div",{className:"row"},s.a.createElement("button",{className:"myButton",onClick:this.showModal},"Save"),s.a.createElement("button",{className:"myButton",onClick:this.delete},"Delete")),s.a.createElement("br",null),s.a.createElement(E,{bucketName:this.props.match.params.bucketName,files:this.state.files,addFile:this.addFile,key:this.state.files,handleSelectedFileChange:this.handleSelectedFileChange}),s.a.createElement(M,{show:this.state.show,bucketName:this.props.match.params.bucketName,notifyUpdate:this.notifyUpdate,closeButton:this.hideModal}))}}]),t}(s.a.Component);a(74);function P(){return s.a.createElement("nav",null,s.a.createElement("ul",null,s.a.createElement("li",null,s.a.createElement(i.c,{exact:!0,activeClassName:"active",className:"navlink",to:"/NimbusWebConsole"},"Home")),s.a.createElement("li",{className:"dropdown"},s.a.createElement(i.b,{className:"navlink",to:"/"},"Resources"),s.a.createElement("div",{className:"dropdown-content"},s.a.createElement(i.b,{className:"navlink",to:"/NimbusWebConsole/Functions"},"Functions"),s.a.createElement(i.b,{className:"navlink",to:"/NimbusWebConsole/FileBuckets"},"File Buckets"),s.a.createElement(i.b,{className:"navlink",to:"/NimbusWebConsole/DocumentStores"},"Document Stores"),s.a.createElement(i.b,{className:"navlink",to:"/NimbusWebConsole/KeyValueStores"},"Key-Value Stores"),s.a.createElement(i.b,{className:"navlink",to:"/NimbusWebConsole/Queues"},"Queues"),s.a.createElement(i.b,{className:"navlink",to:"/NimbusWebConsole/Notifications"},"Notification Topics")))))}function T(){return s.a.createElement("div",{className:"content"},s.a.createElement("h2",null,"Welcome to the Nimbus Web Console"))}var W=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(u.a)(this,Object(d.a)(t).call(this,e))).state={tables:[]},a}return Object(h.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){var e=this;b.a.get("http://localhost:8080/NimbusWebConsole/DocumentStoreAPI?operation=listTables").then(function(t){var a={":hover":{backgroundColor:"#efedeb"}},n=t.data.map(function(t){return s.a.createElement(i.b,{to:"".concat(e.props.match.url,"/").concat(t.tableName),key:t.tableName,className:"row-link"},s.a.createElement("div",{className:"row hover-row",style:a},s.a.createElement("div",{className:"column cell"},t.tableName),s.a.createElement("div",{className:"column cell"},t.numberOfItems)))});e.setState({tables:n})}).catch(function(e){console.log(e)})}},{key:"render",value:function(){return s.a.createElement("div",null,s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"column table-header"},"Table Name"),s.a.createElement("div",{className:"column table-header"},"Number of Items")),this.state.tables)}}]),t}(s.a.Component);a(75);var q=function(e){var t=e.match;return s.a.createElement("div",{className:"content"},s.a.createElement("h2",null,"Document Stores"),s.a.createElement(W,{match:t}))},U=(a(76),a(77),function(e){function t(e){var a;Object(r.a)(this,t),a=Object(u.a)(this,Object(d.a)(t).call(this,e));var n=e.itemDescription,l=n.attributes.map(function(e){return s.a.createElement("div",{key:e,className:"column table-header"},e)}),c=s.a.createElement("div",{className:"column table-header"},n.key),i=e.items.map(function(t){var l=t[n.key];a.props.addItem(l);var c=s.a.createElement("div",{className:"small-column cell"},s.a.createElement("input",{type:"checkbox",name:l,onChange:e.handleItemChange})),i=n.attributes.map(function(e){return s.a.createElement("div",{key:e,className:"column cell"},JSON.stringify(t[e]))});return s.a.createElement("div",{className:"row",key:l},c,s.a.createElement("div",{className:"column cell"},l),i)});return a.state={items:i,keyColumn:c,attributeColumns:l},a}return Object(h.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){return s.a.createElement("div",null,s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"small-column table-header"}),this.state.keyColumn,this.state.attributeColumns),this.state.items)}}]),t}(s.a.Component)),B=(a(78),function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(u.a)(this,Object(d.a)(t).call(this,e))).state={item:"{}"},a.sendRequest=a.sendRequest.bind(Object(C.a)(a)),a.handleChange=a.handleChange.bind(Object(C.a)(a)),a}return Object(h.a)(t,e),Object(m.a)(t,[{key:"sendRequest",value:function(e){var t=this;console.log(this.state.item),b.a.post("http://localhost:8080/NimbusWebConsole/DocumentStoreAPI?tableName="+this.props.tableName+"&operation=newItem",JSON.parse(this.state.item)).then(function(e){200===e.status&&t.props.notifyUpdate()}),this.props.hideModal(),e.preventDefault()}},{key:"handleChange",value:function(e){this.setState({item:e.target.value})}},{key:"render",value:function(){var e=this.props.show?"modal display-block":"modal display-none";return s.a.createElement("div",{className:e},s.a.createElement("section",{className:"modal-main"},s.a.createElement("div",{className:"SaveItem"},s.a.createElement("span",{className:"Title"},"New Item"),s.a.createElement("form",{onSubmit:this.sendRequest},s.a.createElement("textarea",{rows:"10",value:this.state.item,onChange:this.handleChange}),s.a.createElement("div",{className:"Actions"},s.a.createElement("div",null,s.a.createElement("input",{className:"button",type:"submit",value:"Submit"}),s.a.createElement("input",{className:"button",type:"button",value:"Cancel",onClick:this.props.hideModal})))))))}}]),t}(n.Component)),x=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(u.a)(this,Object(d.a)(t).call(this,e))).handleItemChange=function(e){var t=e.target.name;a.setState(function(e){return{selectedItems:e.selectedItems.map(function(e){return e.key===t?{key:t,selected:!e.selected}:e})}})},a.addItem=function(e){a.setState(function(t){return{selectedItems:[].concat(Object(N.a)(t.selectedItems),[{key:e,selected:!1}])}})},a.notifyUpdate=function(){a.getItems()},a.showModal=function(){a.setState({show:!0})},a.hideModal=function(){a.setState({show:!1})},a.delete=function(){return a.state.selectedItems.map(function(e){if(e.selected){var t={};t[a.state.itemDescription.key]=e.key,b.a.post("http://localhost:8080/NimbusWebConsole/DocumentStoreAPI?tableName="+a.props.match.params.tableName+"&operation=deleteItem",t).then(function(t){return 200===t.status&&a.setState({items:a.state.items.filter(function(t){return t[a.state.itemDescription.key]!==e.key}),itemsKey:a.state.itemsKey+1}),null})}return null}),null},a.state={selectedItems:[],itemDescription:{key:"",attributes:[]},items:[],itemsKey:0,show:!1},a}return Object(h.a)(t,e),Object(m.a)(t,[{key:"getItems",value:function(){var e=this;b.a.get("http://localhost:8080/NimbusWebConsole/DocumentStoreAPI?tableName="+this.props.match.params.tableName+"&operation=listTableItems").then(function(t){e.setState({items:t.data.items,itemsKey:e.state.itemsKey+1,itemDescription:t.data.itemDescription})}).catch(function(e){console.log(e)})}},{key:"componentDidMount",value:function(){this.getItems()}},{key:"render",value:function(){return s.a.createElement("div",{className:"main-body"},s.a.createElement("h2",null,this.props.match.params.tableName),s.a.createElement("div",{className:"row"},s.a.createElement("button",{className:"myButton",onClick:this.showModal},"Save"),s.a.createElement("button",{className:"myButton",onClick:this.delete},"Delete")),s.a.createElement("br",null),s.a.createElement(U,{itemDescription:this.state.itemDescription,items:this.state.items,addItem:this.addItem,key:this.state.itemsKey,handleItemChange:this.handleItemChange}),s.a.createElement(B,{show:this.state.show,notifyUpdate:this.notifyUpdate,hideModal:this.hideModal,tableName:this.props.match.params.tableName}))}}]),t}(s.a.Component),Q=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(u.a)(this,Object(d.a)(t).call(this,e))).state={tables:[]},a}return Object(h.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){var e=this;b.a.get("http://localhost:8080/NimbusWebConsole/KeyValueStoreAPI?operation=listTables").then(function(t){var a={":hover":{backgroundColor:"#efedeb"}},n=t.data.map(function(t){return s.a.createElement(i.b,{to:"".concat(e.props.match.url,"/").concat(t.tableName),key:t.tableName,className:"row-link"},s.a.createElement("div",{className:"row hover-row",style:a},s.a.createElement("div",{className:"column cell"},t.tableName),s.a.createElement("div",{className:"column cell"},t.numberOfItems)))});e.setState({tables:n})}).catch(function(e){console.log(e)})}},{key:"render",value:function(){return s.a.createElement("div",null,s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"column table-header"},"Table Name"),s.a.createElement("div",{className:"column table-header"},"Number of Items")),this.state.tables)}}]),t}(s.a.Component);a(79);var R=function(e){var t=e.match;return s.a.createElement("div",{className:"content"},s.a.createElement("h2",null,"Key-Value Stores"),s.a.createElement(Q,{match:t}))},K=(a(80),a(81),function(e){function t(e){var a;Object(r.a)(this,t),a=Object(u.a)(this,Object(d.a)(t).call(this,e));var n=e.itemDescription,l=n.attributes.map(function(e){return s.a.createElement("div",{key:e,className:"column table-header"},e)}),c=s.a.createElement("div",{className:"column table-header"},n.key),i=e.items.map(function(t){var l=t[n.key];a.props.addItem(l);var c=s.a.createElement("div",{className:"small-column cell"},s.a.createElement("input",{type:"checkbox",name:l,onChange:e.handleItemChange})),i=n.attributes.map(function(e){return s.a.createElement("div",{key:e,className:"column cell"},JSON.stringify(t[e]))});return s.a.createElement("div",{className:"row",key:l},c,s.a.createElement("div",{className:"column cell"},l),i)});return a.state={items:i,keyColumn:c,attributeColumns:l},a}return Object(h.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){return s.a.createElement("div",null,s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"small-column table-header"}),this.state.keyColumn,this.state.attributeColumns),this.state.items)}}]),t}(s.a.Component)),L=(a(82),function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(u.a)(this,Object(d.a)(t).call(this,e))).state={item:"{}"},a.sendRequest=a.sendRequest.bind(Object(C.a)(a)),a.handleChange=a.handleChange.bind(Object(C.a)(a)),a}return Object(h.a)(t,e),Object(m.a)(t,[{key:"sendRequest",value:function(e){var t=this;console.log(this.state.item),b.a.post("http://localhost:8080/NimbusWebConsole/KeyValueStoreAPI?tableName="+this.props.tableName+"&operation=newItem",JSON.parse(this.state.item)).then(function(e){200===e.status&&t.props.notifyUpdate()}),this.props.hideModal(),e.preventDefault()}},{key:"handleChange",value:function(e){this.setState({item:e.target.value})}},{key:"render",value:function(){var e=this.props.show?"modal display-block":"modal display-none";return s.a.createElement("div",{className:e},s.a.createElement("section",{className:"modal-main"},s.a.createElement("div",{className:"SaveItem"},s.a.createElement("span",{className:"Title"},"New Item"),s.a.createElement("form",{onSubmit:this.sendRequest},s.a.createElement("textarea",{rows:"10",value:this.state.item,onChange:this.handleChange}),s.a.createElement("div",{className:"Actions"},s.a.createElement("div",null,s.a.createElement("input",{className:"button",type:"submit",value:"Submit"}),s.a.createElement("input",{className:"button",type:"button",value:"Cancel",onClick:this.props.hideModal})))))))}}]),t}(n.Component)),V=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(u.a)(this,Object(d.a)(t).call(this,e))).handleItemChange=function(e){var t=e.target.name;a.setState(function(e){return{selectedItems:e.selectedItems.map(function(e){return e.key===t?{key:t,selected:!e.selected}:e})}})},a.addItem=function(e){a.setState(function(t){return{selectedItems:[].concat(Object(N.a)(t.selectedItems),[{key:e,selected:!1}])}})},a.notifyUpdate=function(){a.getItems()},a.showModal=function(){a.setState({show:!0})},a.hideModal=function(){a.setState({show:!1})},a.delete=function(){return a.state.selectedItems.map(function(e){if(e.selected){var t={};t[a.state.itemDescription.key]=e.key,b.a.post("http://localhost:8080/NimbusWebConsole/KeyValueStoreAPI?tableName="+a.props.match.params.tableName+"&operation=deleteItem",t).then(function(t){return 200===t.status&&a.setState({items:a.state.items.filter(function(t){return t[a.state.itemDescription.key]!==e.key}),itemsKey:a.state.itemsKey+1}),null})}return null}),null},a.state={selectedItems:[],itemDescription:{key:"",attributes:[]},items:[],itemsKey:0,show:!1},a}return Object(h.a)(t,e),Object(m.a)(t,[{key:"getItems",value:function(){var e=this;b.a.get("http://localhost:8080/NimbusWebConsole/KeyValueStoreAPI?tableName="+this.props.match.params.tableName+"&operation=listTableItems").then(function(t){e.setState({items:t.data.items,itemsKey:e.state.itemsKey+1,itemDescription:t.data.itemDescription})}).catch(function(e){console.log(e)})}},{key:"componentDidMount",value:function(){this.getItems()}},{key:"render",value:function(){return s.a.createElement("div",{className:"main-body"},s.a.createElement("h2",null,this.props.match.params.tableName),s.a.createElement("div",{className:"row"},s.a.createElement("button",{className:"myButton",onClick:this.showModal},"Save"),s.a.createElement("button",{className:"myButton",onClick:this.delete},"Delete")),s.a.createElement("br",null),s.a.createElement(K,{itemDescription:this.state.itemDescription,items:this.state.items,addItem:this.addItem,key:this.state.itemsKey,handleItemChange:this.handleItemChange}),s.a.createElement(L,{show:this.state.show,notifyUpdate:this.notifyUpdate,hideModal:this.hideModal,tableName:this.props.match.params.tableName}))}}]),t}(s.a.Component),J=(a(83),a(84),function(e){function t(e){var a;Object(r.a)(this,t),a=Object(u.a)(this,Object(d.a)(t).call(this,e));var n=e.queues.map(function(t){return s.a.createElement("div",{className:"row",key:t.queueName},s.a.createElement("div",{className:"small-column cell"},s.a.createElement("input",{type:"radio",id:t.queueName,name:"selectedQueue",onChange:e.handleSelectedQueueChange})),s.a.createElement("div",{className:"column cell"},t.queueName),s.a.createElement("div",{className:"column cell"},t.itemsPushed))});return a.state={queues:n},a}return Object(h.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){return s.a.createElement("div",null,s.a.createElement("div",{className:"row",key:"titles"},s.a.createElement("div",{className:"small-column table-header"}),s.a.createElement("div",{className:"column table-header"},"Queue Name"),s.a.createElement("div",{className:"column table-header"},"Items Pushed")),this.state.queues)}}]),t}(s.a.Component)),z=(a(85),function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(u.a)(this,Object(d.a)(t).call(this,e))).state={item:"{}"},a.sendRequest=a.sendRequest.bind(Object(C.a)(a)),a.handleChange=a.handleChange.bind(Object(C.a)(a)),a}return Object(h.a)(t,e),Object(m.a)(t,[{key:"sendRequest",value:function(e){var t=this;console.log(this.state.item),b.a.post("http://localhost:8080/NimbusWebConsole/QueueAPI?queueName="+this.props.queueName+"&operation=pushItem",JSON.parse(this.state.item)).then(function(e){200===e.status&&t.props.notifyUpdate()}),this.props.hideModal(),e.preventDefault()}},{key:"handleChange",value:function(e){this.setState({item:e.target.value})}},{key:"render",value:function(){var e=this.props.show?"modal display-block":"modal display-none";return s.a.createElement("div",{className:e},s.a.createElement("section",{className:"modal-main"},s.a.createElement("div",{className:"AddItem"},s.a.createElement("span",{className:"Title"},"New Item - ",this.props.queueName),s.a.createElement("form",{onSubmit:this.sendRequest},s.a.createElement("textarea",{rows:"10",value:this.state.item,onChange:this.handleChange}),s.a.createElement("div",{className:"Actions"},s.a.createElement("div",null,s.a.createElement("input",{className:"button",type:"submit",value:"Submit"}),s.a.createElement("input",{className:"button",type:"button",value:"Cancel",onClick:this.props.hideModal})))))))}}]),t}(n.Component)),_=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(u.a)(this,Object(d.a)(t).call(this,e))).handleSelectedQueueChange=function(e){a.setState({selectedQueue:e.target.id})},a.notifyUpdate=function(){a.getQueues()},a.showModal=function(){""!==a.state.selectedQueue?a.setState({show:!0}):alert("Please select a queue")},a.hideModal=function(){a.setState({show:!1})},a.state={queues:[],selectedQueue:"",show:!1,version:0},a.handleSelectedQueueChange.bind(Object(C.a)(a)),a}return Object(h.a)(t,e),Object(m.a)(t,[{key:"getQueues",value:function(){var e=this;b.a.get("http://localhost:8080/NimbusWebConsole/QueueAPI?operation=listQueues").then(function(t){e.setState({queues:t.data,version:e.state.version+1})}).catch(function(e){console.log(e)})}},{key:"componentDidMount",value:function(){this.getQueues()}},{key:"render",value:function(){return s.a.createElement("div",{className:"content",key:"QueuesPage"},s.a.createElement("h2",{key:"title"},"Queues"),s.a.createElement("div",{className:"row",key:"Actions"},s.a.createElement("button",{className:"myButton",onClick:this.showModal},"Add Item")),s.a.createElement("br",null),s.a.createElement(J,{queues:this.state.queues,handleSelectedQueueChange:this.handleSelectedQueueChange,key:this.state.version}),s.a.createElement(z,{show:this.state.show,notifyUpdate:this.notifyUpdate,hideModal:this.hideModal,key:this.state.selectedQueue,queueName:this.state.selectedQueue}))}}]),t}(s.a.Component),H=(a(86),a(87),function(e){function t(e){var a;Object(r.a)(this,t),a=Object(u.a)(this,Object(d.a)(t).call(this,e));var n=e.notificationTopics.map(function(t){return s.a.createElement("div",{className:"row",key:t.topicName},s.a.createElement("div",{className:"small-column cell"},s.a.createElement("input",{type:"radio",id:t.topicName,name:"selectedTopic",onChange:e.handleSelectedTopicChange})),s.a.createElement("div",{className:"column cell"},t.topicName),s.a.createElement("div",{className:"column cell"},t.subscribers),s.a.createElement("div",{className:"column cell"},t.totalNotifications))});return a.state={notificationTopics:n},a}return Object(h.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){return s.a.createElement("div",null,s.a.createElement("div",{className:"row",key:"titles"},s.a.createElement("div",{className:"small-column table-header"}),s.a.createElement("div",{className:"column table-header"},"Notification Topic"),s.a.createElement("div",{className:"column table-header"},"Number of Subscribers"),s.a.createElement("div",{className:"column table-header"},"Number of Notifications")),this.state.notificationTopics)}}]),t}(s.a.Component)),$=(a(88),function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(u.a)(this,Object(d.a)(t).call(this,e))).state={item:"{}"},a.sendRequest=a.sendRequest.bind(Object(C.a)(a)),a.handleChange=a.handleChange.bind(Object(C.a)(a)),a}return Object(h.a)(t,e),Object(m.a)(t,[{key:"sendRequest",value:function(e){var t=this;console.log(this.state.item),b.a.post("http://localhost:8080/NimbusWebConsole/NotificationAPI?topicName="+this.props.topicName+"&operation=notify",JSON.parse(this.state.item)).then(function(e){200===e.status&&t.props.notifyUpdate()}),this.props.hideModal(),e.preventDefault()}},{key:"handleChange",value:function(e){this.setState({item:e.target.value})}},{key:"render",value:function(){var e=this.props.show?"modal display-block":"modal display-none";return s.a.createElement("div",{className:e},s.a.createElement("section",{className:"modal-main"},s.a.createElement("div",{className:"AddItem"},s.a.createElement("span",{className:"Title"},"Notify - ",this.props.topicName),s.a.createElement("form",{onSubmit:this.sendRequest},s.a.createElement("textarea",{rows:"10",value:this.state.item,onChange:this.handleChange}),s.a.createElement("div",{className:"Actions"},s.a.createElement("div",null,s.a.createElement("input",{className:"button",type:"submit",value:"Submit"}),s.a.createElement("input",{className:"button",type:"button",value:"Cancel",onClick:this.props.hideModal})))))))}}]),t}(n.Component)),G=(a(89),function(e){function t(e){var a;if(Object(r.a)(this,t),a=Object(u.a)(this,Object(d.a)(t).call(this,e)),null!=e.topic){var n=e.topic.generalSubscribers.map(function(e){return s.a.createElement("div",{className:"row",key:e.protocol+e.endpoint},s.a.createElement("div",{className:"column cell"},e.protocol),s.a.createElement("div",{className:"column cell"},e.endpoint))}),l=e.topic.functionSubscribers.map(function(e){return s.a.createElement("div",{className:"row",key:e.className+e.methodName},s.a.createElement("div",{className:"column cell"},e.className),s.a.createElement("div",{className:"column cell"},e.methodName))});a.state={functionSubscribers:l,generalSubscribers:n}}else a.state={functionSubscribers:[],generalSubscribers:[]};return a}return Object(h.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){var e=this.props.show?"modal display-block":"modal display-none",t=this.props.topic?this.props.topic.topicName:"";return s.a.createElement("div",{className:e},s.a.createElement("section",{className:"modal-main"},s.a.createElement("div",{className:"Subscribers"},s.a.createElement("form",{onSubmit:this.sendRequest},s.a.createElement("h2",null,t," Subscribers"),s.a.createElement("h4",null,"General Subscribers"),s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"column table-header"},"Protocol"),s.a.createElement("div",{className:"column table-header"},"Endpoint")),this.state.generalSubscribers,s.a.createElement("h4",null,"Function Subscribers"),s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"column table-header"},"Class Name"),s.a.createElement("div",{className:"column table-header"},"Method Name")),this.state.functionSubscribers,s.a.createElement("div",{className:"Actions"},s.a.createElement("div",null,s.a.createElement("input",{className:"button",type:"button",value:"Close",onClick:this.props.hideModal})))))))}}]),t}(n.Component)),X=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(u.a)(this,Object(d.a)(t).call(this,e))).handleSelectedTopicChange=function(e){a.setState({selectedTopic:e.target.id})},a.notifyUpdate=function(){a.getQueues()},a.showNotifyModal=function(){""!==a.state.selectedTopic?a.setState({showNotify:!0}):alert("Please select a topic")},a.hideNotifyModal=function(){a.setState({showNotify:!1})},a.showSubscriberModal=function(){""!==a.state.selectedTopic?a.setState({showSubscribers:!0}):alert("Please select a topic")},a.hideSubscriberModal=function(){a.setState({showSubscribers:!1})},a.state={notificationTopics:[],selectedTopic:"",showNotify:!1,showSubscribers:!1,version:0},a.handleSelectedTopicChange.bind(Object(C.a)(a)),a}return Object(h.a)(t,e),Object(m.a)(t,[{key:"getQueues",value:function(){var e=this;b.a.get("http://localhost:8080/NimbusWebConsole/NotificationAPI?operation=listNotificationTopics").then(function(t){e.setState({notificationTopics:t.data,version:e.state.version+1})}).catch(function(e){console.log(e)})}},{key:"componentDidMount",value:function(){this.getQueues()}},{key:"render",value:function(){var e=this;return s.a.createElement("div",{className:"content",key:"QueuesPage"},s.a.createElement("h2",{key:"title"},"Notification Topics"),s.a.createElement("div",{className:"row",key:"Actions"},s.a.createElement("button",{className:"myButton",onClick:this.showNotifyModal},"Notify"),s.a.createElement("button",{className:"myButton",onClick:this.showSubscriberModal},"View Subscribers")),s.a.createElement("br",null),s.a.createElement(H,{notificationTopics:this.state.notificationTopics,handleSelectedTopicChange:this.handleSelectedTopicChange,key:this.state.version}),s.a.createElement($,{show:this.state.showNotify,notifyUpdate:this.notifyUpdate,hideModal:this.hideNotifyModal,key:this.state.selectedTopic,topicName:this.state.selectedTopic}),s.a.createElement(G,{show:this.state.showSubscribers,notifyUpdate:this.notifyUpdate,hideModal:this.hideSubscriberModal,key:this.state.selectedTopic,topic:this.state.notificationTopics.find(function(t){return t.topicName===e.state.selectedTopic})}))}}]),t}(s.a.Component),Y=(a(90),a(91),function(e){function t(e){var a;Object(r.a)(this,t),a=Object(u.a)(this,Object(d.a)(t).call(this,e));var n=e.functions.map(function(e){return s.a.createElement("div",{className:"row",key:e.className},s.a.createElement("div",{className:"column cell"},e.className),s.a.createElement("div",{className:"column cell"},e.methodName),s.a.createElement("div",{className:"column cell"},e.timesInvoked))});return a.state={functions:n},a}return Object(h.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){return s.a.createElement("div",null,s.a.createElement("div",{className:"row",key:"titles"},s.a.createElement("div",{className:"column table-header"},"Class Name"),s.a.createElement("div",{className:"column table-header"},"Method Name"),s.a.createElement("div",{className:"column table-header"},"Times Invoked")),this.state.functions)}}]),t}(s.a.Component)),Z=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(u.a)(this,Object(d.a)(t).call(this,e))).state={functions:[],version:0},a}return Object(h.a)(t,e),Object(m.a)(t,[{key:"getFunctions",value:function(){var e=this;b.a.get("http://localhost:8080/NimbusWebConsole/FunctionAPI?operation=listFunctions").then(function(t){e.setState({functions:t.data,version:e.state.version+1})}).catch(function(e){console.log(e)})}},{key:"componentDidMount",value:function(){this.getFunctions()}},{key:"render",value:function(){return s.a.createElement("div",{className:"content",key:"QueuesPage"},s.a.createElement("h2",{key:"title"},"Functions"),s.a.createElement("br",null),s.a.createElement(Y,{functions:this.state.functions,key:this.state.version}))}}]),t}(s.a.Component);var ee=function(){return s.a.createElement(i.a,null,s.a.createElement("div",null,s.a.createElement(P,null),s.a.createElement(o.a,{exact:!0,path:"/NimbusWebConsole/",component:T}),s.a.createElement(o.a,{exact:!0,path:"/NimbusWebConsole/index.html",component:T}),s.a.createElement(o.a,{exact:!0,path:"/NimbusWebConsole/Functions",component:Z}),s.a.createElement(o.a,{exact:!0,path:"/NimbusWebConsole/FileBuckets",component:v}),s.a.createElement(o.a,{exact:!0,path:"/NimbusWebConsole/FileBuckets/:bucketName",component:A}),s.a.createElement(o.a,{exact:!0,path:"/NimbusWebConsole/DocumentStores",component:q}),s.a.createElement(o.a,{exact:!0,path:"/NimbusWebConsole/DocumentStores/:tableName",component:x}),s.a.createElement(o.a,{exact:!0,path:"/NimbusWebConsole/KeyValueStores",component:R}),s.a.createElement(o.a,{exact:!0,path:"/NimbusWebConsole/KeyValueStores/:tableName",component:V}),s.a.createElement(o.a,{exact:!0,path:"/NimbusWebConsole/Queues",component:_}),s.a.createElement(o.a,{exact:!0,path:"/NimbusWebConsole/Notifications",component:X})))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(s.a.createElement(ee,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}]),[[40,1,2]]]);
//# sourceMappingURL=main.c3a15a55.chunk.js.map